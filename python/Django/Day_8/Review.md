# Review



#### model

- class명이 table 명
- class 변수가 column명
- 클래스 메소드로 __str__()재정의
  - 데이터가 잘 저장됬는지 확인차.

#### makemigrations

- 장고에서 변경된 부분으 ㄹ migrations 폴더안에 0001같이 명세서를 작성.
- 혹시, 오타면 마이그레이션 파일은 순정하지 말고, 마이크레이션 파일은 수정하지 말고 models.py를 수정. 장고에서 벼경점을 못 찾을  때는 새롭게 생성된 migration 파일 삭제

#### migrate

- migration 파일을 바탕으로 BD에 테이블을 적용

#### Admin.py

- DB관리용 페이지
- 일반 사용자에게 보여지는 페이지는 아니고, 괄리를 위한 페이지 !
- feilds list, tuple현식으로 수정할 항목이나 순서를 설정을 했음
  - 주의: auto_now=True 설정시, editable=False 로 자동 설정되서 fields에서 사용할 수 없음
- list_filter:bool , char,date, datetime,integer ~속성만 필터링 가능



## Django 프로젝트 



### 기본세팅

```
$ django-admin startproject config .
```

```python
from django.urls import path, include
$ python manage.py startapp crud
```

```python
crud 폴더에 urls.py 만들기 

from django.urls import path, include
from . import views

urlpatterns = [
    path('',views.index),
]
```

```
inedx 파일 생성

<h1>
    Index Page
</h1>
```

![image-20191115103924076](C:\Users\student\AppData\Roaming\Typora\typora-user-images\image-20191115103924076.png)

```python
$ python manage.py runserver

서버 돌리기
```

```python
기본 꾸미기 세팅 > 베이스 잡기

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [os.path.join(BASE_DIR,"config","templates")],
        'APP_DIRS': True,
        'OPTIONS': {
```

```html
https://getbootstrap.com/docs/4.3/getting-started/introduction/ 에서 가지고 오기

config 에서 templates 폴더를 만들고, base.html 파일을 만들어서 아래와 같이 설정을 한다.

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>

    {% block body %}
    {% endblock %}
    
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>
```



```
base.html 준비 > indext.html

{% extends 'base.html' %}
{% block body %}
<h1>
    Index Page
</h1>
{% endblock %}
 

```

![image-20191115105811616](C:\Users\student\AppData\Roaming\Typora\typora-user-images\image-20191115105811616.png)

### Create



```python
models.py 모델 구축 시작

from django.db import models

class Article(models.Model):
    title = models.CharField(max_length=50)
    contient = models.TextField()
    created_at = models.DateTimeField(auto_now=True)
    updated_at = models.DateTimeField(auto_now=True)

    def __str__(self):
        return f'{self.id}:{self.title}'
# Create your models here.


```

```
마이크레이트 시작
->>>>>>>$ python manage.py makemigrations

Migrations for 'crud':
  crud\migrations\0001_initial.py
    - Create model Article

student@M1504 MINGW64 ~/Documents/GitHub/DocFile_Programming_note/python/Django/Day_8/django_crud (master)

->>>>>>>$ python manage.py migrate

Operations to perform:
  Apply all migrations: admin, auth, contenttypes, crud, sessions
Running migrations:
```



```
만들어진 0001 각각의 id 값이 맞는지 확인 할것!

# Generated by Django 2.2.7 on 2019-11-15 01:51

from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Article',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=50)),
                ('contient', models.TextField()),
                ('created_at', models.DateTimeField(auto_now=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
    ]

```



```
$ python manage.py shell
Python 3.7.5 (tags/v3.7.5:5c02a39a0b, Oct 15 2019, 00:11:34) [MSC v.1916 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
(InteractiveConsole)
>>> from crud.models import Article
```





### READ



## 꿀팁

스니펫

VSC에서 명령어를 만드는 것이라고 생각하면 좋다.

```
먼저 file>preference>user snoppet> 검색창에 html 검색 그리고 아래의 코드를 예제로 씀

{
	"post_form":{
		"prefix": "post_form",
		"body": [
			"<form action='' moethod='POST' >",
			"	{% csrf_token %}",
			"	<input type = 'submit'>",
			"</form>"
		],
		"description": "form tag"
	}
}
```



![image-20191115112211379](C:\Users\student\AppData\Roaming\Typora\typora-user-images\image-20191115112211379.png)

아레에서 post라고 검색을하니 post_form이 뜨는 것을 확인 할 수 있다.





